# ğŸ“‹ FICHIERS Ã€ UPLOADER SUR LWS (via FTP)
# Date : 17 octobre 2025
# Modifications : ZB Investments branding + villes dynamiques + notifications email

## ğŸ”´ IMPORTANT : Sauvegarder avant de remplacer !

---

## ğŸ“‚ DOSSIER 1 : Notifications (app/Notifications/)
ğŸ“ Destination LWS : /home/zbinv2677815/laravel-app/app/Notifications/

Uploader ces fichiers :
âœ… app/Notifications/AdminResponseNotification.php
âœ… app/Notifications/NewContactMessage.php
âœ… app/Notifications/NewPropertyMessage.php
âœ… app/Notifications/NewAccompanimentRequestNotification.php (NOUVEAU)

---

## ğŸ“‚ DOSSIER 2 : Livewire Components (app/Livewire/)
ğŸ“ Destination LWS : /home/zbinv2677815/laravel-app/app/Livewire/

Uploader ce fichier :
âœ… app/Livewire/AccompanimentForm.php

---

## ğŸ“‚ DOSSIER 3 : Templates Email (resources/views/vendor/mail/)
ğŸ“ Destination LWS : /home/zbinv2677815/laravel-app/resources/views/vendor/mail/

Uploader TOUT LE DOSSIER :
âœ… resources/views/vendor/mail/html/message.blade.php
âœ… resources/views/vendor/mail/text/message.blade.php
âœ… resources/views/vendor/mail/ (tout le dossier si inexistant sur LWS)

---

## ğŸ“‚ DOSSIER 4 : Vue Livewire (resources/views/livewire/)
ğŸ“ Destination LWS : /home/zbinv2677815/laravel-app/resources/views/livewire/

Uploader ce fichier :
âœ… resources/views/livewire/accompaniment-form.blade.php

---

## âš ï¸ APRÃˆS L'UPLOAD : Vider les caches

### MÃ©thode 1 : Via SSH (recommandÃ©)
```bash
ssh zbinv2677815@ssh.horizonimmo.com
cd /home/zbinv2677815/laravel-app
php artisan config:clear
php artisan cache:clear
php artisan view:clear
php artisan route:clear
php artisan config:cache
php artisan route:cache
php artisan view:cache
```

### MÃ©thode 2 : Via script PHP (si pas d'accÃ¨s SSH)
CrÃ©er un fichier clear-cache-lws.php dans /htdocs/ avec ce contenu :

```php
<?php
require __DIR__.'/../home/zbinv2677815/laravel-app/vendor/autoload.php';
$app = require_once __DIR__.'/../home/zbinv2677815/laravel-app/bootstrap/app.php';
$kernel = $app->make(Illuminate\Contracts\Console\Kernel::class);
$kernel->bootstrap();

echo "Vidage des caches...\n";
Artisan::call('config:clear');
echo "âœ… Config cleared\n";
Artisan::call('cache:clear');
echo "âœ… Cache cleared\n";
Artisan::call('view:clear');
echo "âœ… Views cleared\n";
Artisan::call('route:clear');
echo "âœ… Routes cleared\n";

echo "\nReconstruction des caches...\n";
Artisan::call('config:cache');
echo "âœ… Config cached\n";
Artisan::call('route:cache');
echo "âœ… Routes cached\n";
Artisan::call('view:cache');
echo "âœ… Views cached\n";

echo "\nâœ… Tous les caches ont Ã©tÃ© vidÃ©s et reconstruits !";
```

Puis accÃ©dez Ã  : https://votre-domaine.com/clear-cache-lws.php
âš ï¸ SUPPRIMER ce fichier aprÃ¨s utilisation pour des raisons de sÃ©curitÃ© !

---

## ğŸ“‹ CHECKLIST DE VÃ‰RIFICATION

AprÃ¨s l'upload, vÃ©rifiez :

âœ… Les emails utilisent "ZB Investments" au lieu de "Horizon Immo"
âœ… Le footer des emails affiche les numÃ©ros de tÃ©lÃ©phone :
   - CÃ´te d'Ivoire: +225 07 07 69 69 14 | +225 05 45 01 01 99
   - Afrique du Sud: +27 65 86 87 861
âœ… Le formulaire d'accompagnement charge les villes depuis la base de donnÃ©es
âœ… Les rÃ©ponses aux messages sont copiÃ©es en BCC vers info@zbinvestments-ci.com
âœ… Les nouveaux messages de contact sont envoyÃ©s Ã  l'admin avec copie BCC

---

## ğŸ§ª TEST RECOMMANDÃ‰

1. **Tester le formulaire d'accompagnement** :
   - VÃ©rifier que les villes s'affichent dynamiquement dans le select

2. **Tester l'envoi d'email** :
   - CrÃ©er un message de contact test
   - VÃ©rifier que vous recevez une copie dans info@zbinvestments-ci.com
   - VÃ©rifier que le footer affiche "ZB Investments" et les tÃ©lÃ©phones

3. **VÃ©rifier les caches** :
   - Si des changements ne s'affichent pas, vider les caches Ã  nouveau

---

## ğŸ“ SUPPORT

En cas de problÃ¨me :
1. VÃ©rifier les logs Laravel : /home/zbinv2677815/laravel-app/storage/logs/laravel.log
2. VÃ©rifier les permissions : storage/ et bootstrap/cache/ doivent Ãªtre en 775
3. Contacter le support LWS si problÃ¨me serveur

---

Fin du guide d'upload FTP
